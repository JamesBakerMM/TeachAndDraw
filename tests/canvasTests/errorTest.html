err<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>TaD | üë©üèΩ‚Äçüè´ & ‚úèÔ∏è</title>
        <script type="module">
            import { $ } from "../../lib/TeachAndDraw.js";
            import { TestSuite } from "/tests/TestSuite.js";
            const test = new TestSuite();
            import { ErrorMsgManager } from "../../lib/ErrorMessageManager.js";

            const sampleObjectWithNoCollider = {};
            const sampleCollider = $.makeBoxCollider(0, 0, 20, 20);
            const objectWithCollider = {
                date: new Date(),
                collider: $.makeCircleCollider(0, 0, 100, 200),
            };
            const buriedCollider = {
                name: "james",
                data: {
                    otherData: {
                        collider: $.makeBoxCollider(20, 20, 20, 20),
                    },
                },
                date: new Date(),
            };

            $.use(update);
            function update() {}

            const noColliderResult = ErrorMsgManager.siftForColliderPathIn(
                sampleObjectWithNoCollider
            );
            test.assertEqual(
                noColliderResult,
                null,
                "should return null if it can't find a collider in the object!"
            );

            const sampleColliderResult =
                ErrorMsgManager.siftForColliderPathIn(sampleCollider);
            test.assertEqual(
                sampleColliderResult,
                "uh this IS a collider? What are we doing here?",
                "should return the collider, it IS a collider"
            );

            const objectWithColliderResult =
                ErrorMsgManager.siftForColliderPathIn(objectWithCollider);
            test.assertEqual(
                objectWithColliderResult,
                "sampleObject.collider",
                "should return SampleObject.collider"
            );

            const buriedColliderResult =
                ErrorMsgManager.siftForColliderPathIn(buriedCollider);
            test.assertEqual(
                buriedColliderResult,
                "sampleObject.data.otherData.collider",
                "should return SampleObject.collider"
            );

            test.reportResults();
        </script>
        <style>
            html,
            body {
                margin: 0px;
                padding: 0px;
                background-color: rgb(30, 30, 25);
                font-family: sans-serif;
                color: white;
                overflow: hidden;
            }
            #debug {
                position: absolute;
                border-radius: 15px;
                padding: 1rem;
                right: 10px;
                background-color: rgba(30, 30, 25, 0.5);
                top: 0;
                width: 300px;
                transition: 0.5s;
            }
            .invisible {
                display: none;
            }
            .prev {
                background-color: red;
                background-size: 10px;
                height: 1lh;
            }
            .wrapper {
                display: flex;
                margin-left: 20px;
                overflow: hidden;
                /* margin:auto;  */
                padding: 1rem;
            }
            #debug.hidden {
                right: -360px; /* Hide all except 1px */
            }
            #debug.hidden button {
                position: absolute;
            }
            #debug:hover {
                background-color: rgba(30, 30, 25, 1);
            }
            #debug:hover button {
                opacity: 1;
            }
            #debug button {
                left: -3rem;
                position: absolute;
                height: 3rem;
                width: 3rem;
                opacity: 0.5;
            }
            #debug ul {
                padding: 0;
                margin: 0;
                padding-left: 1rem;
            }

            .grid-overlay {
                margin-top: 1rem;
            }

            .grid-overlay::after {
                content: "";
                position: absolute;

                opacity: 1;
                top: 0px;
                left: 0;
                pointer-events: none; /* Allows clicks to pass through */
                width: 100%;
                height: 100vh;

                background-image: linear-gradient(
                        to right,
                        rgba(0, 255, 0, 0.15) 1px,
                        transparent 1px
                    ),
                    linear-gradient(
                        to bottom,
                        rgba(0, 255, 0, 0.15) 1px,
                        transparent 1px
                    );
                background-size: 50px 50px;
            }

            canvas {
                box-shadow: rgba(0, 0, 0, 0.527) 0px 0px 6px,
                    rgba(0, 0, 0, 0.53) 0px 0px 6px;
                box-sizing: border-box;
                cursor: none;
            }

            dialog {
                position: absolute;
                /* transform: translate(-50%, -50%); */
                width: 80vw;
                height: 80vh;
                overflow: hidden;
                padding: 0;
            }
            iframe {
                width: 100vw;
                height: 100vh;
                border: none;
            }
        </style>
    </head>
    <body>
        <dialog>
            <iframe src="" id="gameScreen"> </iframe>
        </dialog>
        <div class="wrapper">
            <canvas id="myCanvas"></canvas>
        </div>
        <aside id="debug" class="invisible">
            <button id="showhidebtn">üîç</button>
            <section></section>
        </aside>
    </body>
</html>
